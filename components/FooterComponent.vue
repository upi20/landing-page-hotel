<!-- @format -->

<template>
  <footer class="section-footer">
    <div class="bg-black">
      <div class="section-space">
        <div class="container">
          <div
            class="grid grid-cols-1 gap-x-10 gap-y-10 md:grid-cols-2 lg:grid-cols-[1fr_minmax(0,0.8fr)] lg:gap-x-20 xl:gap-x-24 xxl:gap-x-[139px]"
          >
            <div>
              <div class="section-block text-colorButteryWhite">
                <h2 class="mb-6">
                  Mari mulai proyek
                  <span>
                    <NuxtImg
                      src="/elemnts/shape-light-lime-5-arms-star.svg"
                      alt="shape-light-lime-5-arms-star"
                      width="74"
                      height="70"
                      class="relative inline-block h-auto w-8 after:bg-black md:w-10 lg:w-[57px]"
                      loading="lazy"
                    />
                  </span>
                  bersama kami
                </h2>
                <p class="section-para">
                  Kami bekerja erat dengan klien untuk memahami tujuan, audiens
                  target, dan kebutuhan unik mereka. Dengan teknologi terkini
                  dan inovasi bulanan, kami menggunakan keterampilan kreatif
                  kami untuk menerjemahkan kebutuhan tersebut menjadi solusi
                  desain yang praktis dan terjangkau, dengan kode yang orisinal.
                </p>
              </div>
              <div class="grid grid-cols-[1fr_auto] items-center">
                <div>
                  <ul class="mt-12 flex flex-col gap-y-3">
                    <li>
                      <span
                        class="block font-syne text-[21px] font-bold leading-[1.42] text-colorLightLime"
                        >Whatsapp / Telpon:</span
                      >
                      <NuxtLink
                        href="https://wa.link/j9mvz1"
                        target="_BLANK"
                        class="text-[21px] leading-[1.42] text-colorButteryWhite"
                        >+62 896-5248-3516
                      </NuxtLink>
                    </li>
                    <li>
                      <span
                        class="block font-syne text-[21px] font-bold leading-[1.42] text-colorLightLime"
                        >Email:</span
                      >
                      <NuxtLink
                        href="mailto:tukangbikin.web.id@gmail.com"
                        class="text-[21px] leading-[1.42] text-colorButteryWhite"
                        >tukangbikin.web.id@gmail.com
                      </NuxtLink>
                    </li>
                  </ul>
                  <div class="mt-11 flex w-full gap-4">
                    <NuxtLink
                      href="https://shopee.co.id"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="group/link relative inline-flex h-[34px] w-[34px] items-center justify-center rounded-[50%] border border-colorButteryWhite bg-black transition-all duration-300 hover:border-black hover:bg-colorLightLime hover:shadow-[0_1.5px_0_0] hover:shadow-colorButteryWhite"
                    >
                      <NuxtImg
                        src="/icons/shopee-white.svg"
                        alt="icon-logo-buttery-white-shopee"
                        width="19"
                        height="16"
                        class="opacity-100 transition-all duration-300 group-hover/link:opacity-0"
                        loading="lazy"
                      />
                      <NuxtImg
                        src="/icons/shopee.svg"
                        alt="icon-logo-black-shopee"
                        width="19"
                        height="16"
                        class="absolute opacity-0 transition-all duration-300 group-hover/link:opacity-100"
                        loading="lazy"
                      />
                    </NuxtLink>
                    <NuxtLink
                      href="https://tokopedia.com"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="group/link relative inline-flex h-[34px] w-[34px] items-center justify-center rounded-[50%] border border-colorButteryWhite bg-black transition-all duration-300 hover:border-black hover:bg-colorLightLime hover:shadow-[0_1.5px_0_0] hover:shadow-colorButteryWhite"
                    >
                      <NuxtImg
                        src="/icons/tokopedia-white.svg"
                        alt="icon-logo-buttery-white-tokopedia"
                        width="19"
                        height="16"
                        class="opacity-100 transition-all duration-300 group-hover/link:opacity-0"
                        loading="lazy"
                      />
                      <NuxtImg
                        src="/icons/tokopedia.svg"
                        alt="icon-logo-black-tokopedia"
                        width="19"
                        height="16"
                        class="absolute opacity-0 transition-all duration-300 group-hover/link:opacity-100"
                        loading="lazy"
                      />
                    </NuxtLink>
                    <NuxtLink
                      href="https://instagram.com"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="group/link relative inline-flex h-[34px] w-[34px] items-center justify-center rounded-[50%] border border-colorButteryWhite bg-black transition-all duration-300 hover:border-black hover:bg-colorLightLime hover:shadow-[0_1.5px_0_0] hover:shadow-colorButteryWhite"
                    >
                      <img
                        src="/icons/instagram-white.svg"
                        alt="icon-logo-buttery-white-instagram"
                        width="19"
                        height="16"
                        class="opacity-100 transition-all duration-300 group-hover/link:opacity-0"
                        loading="lazy"
                      />
                      <img
                        src="/icons/instagram.svg"
                        alt="icon-logo-black-instagram"
                        width="19"
                        height="16"
                        class="absolute opacity-0 transition-all duration-300 group-hover/link:opacity-100"
                        loading="lazy"
                      />
                    </NuxtLink>
                    <NuxtLink
                      href="https://tiktok.com"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="group/link relative inline-flex h-[34px] w-[34px] items-center justify-center rounded-[50%] border border-colorButteryWhite bg-black transition-all duration-300 hover:border-black hover:bg-colorLightLime hover:shadow-[0_1.5px_0_0] hover:shadow-colorButteryWhite"
                    >
                      <NuxtImg
                        src="/icons/tiktok-white.svg"
                        alt="icon-logo-buttery-white-tiktok"
                        width="19"
                        height="16"
                        class="opacity-100 transition-all duration-300 group-hover/link:opacity-0"
                        loading="lazy"
                      />
                      <NuxtImg
                        src="/icons/tiktok.svg"
                        alt="icon-logo-black-tiktok"
                        width="19"
                        height="16"
                        class="absolute opacity-0 transition-all duration-300 group-hover/link:opacity-100"
                        loading="lazy"
                      />
                    </NuxtLink>
                    <NuxtLink
                      href="https://twitter.com"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="group/link relative inline-flex h-[34px] w-[34px] items-center justify-center rounded-[50%] border border-colorButteryWhite bg-black transition-all duration-300 hover:border-black hover:bg-colorLightLime hover:shadow-[0_1.5px_0_0] hover:shadow-colorButteryWhite"
                    >
                      <NuxtImg
                        src="/icons/x-white.svg"
                        alt="icon-logo-buttery-white-x"
                        width="19"
                        height="16"
                        class="opacity-100 transition-all duration-300 group-hover/link:opacity-0"
                        loading="lazy"
                      />
                      <NuxtImg
                        src="/icons/x.svg"
                        alt="icon-logo-black-x"
                        width="19"
                        height="16"
                        class="absolute opacity-0 transition-all duration-300 group-hover/link:opacity-100"
                        loading="lazy"
                      />
                    </NuxtLink>
                    <!-- Tambahkan icon sosial media lainnya sesuai kebutuhan -->
                  </div>
                </div>
              </div>
            </div>
            <div>
              <span
                class="display-heading display-heading-5 mb-[30px] block text-colorButteryWhite"
                >Kirim pesan kepada kami</span
              >
              <form
                @submit.prevent="handleSubmit"
                class="flex flex-col gap-y-6"
              >
                <input
                  v-model="contact.name"
                  type="text"
                  placeholder="Nama Lengkap / Nama Panggilan"
                  class="w-full rounded-[50px] border border-[#cccccc] bg-transparent px-6 py-5 text-base font-bold leading-none text-white placeholder:text-[#cccccc]"
                  required
                />
                <input
                  v-model="contact.email"
                  type="email"
                  placeholder="Email"
                  class="w-full rounded-[50px] border border-[#cccccc] bg-transparent px-6 py-5 text-base font-bold leading-none text-white placeholder:text-[#cccccc]"
                  required
                />
                <input
                  v-model="contact.phone_number"
                  type="tel"
                  placeholder="No. Telpon / Whatsapp"
                  class="w-full rounded-[50px] border border-[#cccccc] bg-transparent px-6 py-5 text-base font-bold leading-none text-white placeholder:text-[#cccccc]"
                  required
                />
                <textarea
                  v-model="contact.message"
                  placeholder="Tulisan pesan anda disini..."
                  class="min-h-[150px] w-full rounded-[20px] border border-[#cccccc] bg-transparent px-6 py-5 text-base font-bold leading-none text-white placeholder:text-[#cccccc]"
                  required
                ></textarea>
                <button
                  type="submit"
                  class="btn-primary relative justify-start pr-20 md:pr-[118px]"
                >
                  Kirim pesan
                  <span
                    class="absolute right-[5px] inline-flex h-[50px] w-[50px] items-center justify-center rounded-[50%] bg-black"
                  >
                    <img
                      src="@/assets/img/icons/icon-buttery-white-arrow-right.svg"
                      alt="icon-buttery-white-arrow-right"
                      width="34"
                      height="28"
                    />
                  </span>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!-- Horizontal Line -->
      <div class="horizontal-line bg-[#333333]"></div>
      <!-- Horizontal Line -->

      <!-- Footer Bottom -->
      <div class="py-[35px]">
        <!-- Section Container -->
        <div class="container">
          <div
            class="flex flex-wrap justify-center gap-x-[30px] gap-y-4 lg:justify-between"
          >
            <NuxtLink href="/">
              <NuxtImg
                src="/tukangbikin.svg"
                alt="logo-buttery-white"
                width="121"
                height="24"
                loading="lazy"
              />
            </NuxtLink>

            <!-- Copyright Text -->
            <div class="text-colorButteryWhite">
              &copy; Copyright 2024, TukangBikin.web.id
            </div>
            <!-- Copyright Text -->
          </div>
        </div>
        <!-- Section Container -->
      </div>
      <!-- Footer Bottom -->
    </div>
  </footer>
</template>

<script setup>
import axios from "axios";
import { ref } from "vue";
import { useToast } from "vue-toastification";

const contact = ref({
  name: "",
  email: "",
  phone_number: "",
  message: "",
});

const toast = useToast();

const handleSubmit = async () => {
  try {
    await axios.post(
      "http://localhost:4000/api/contacts/submit",
      contact.value
    );

    toast.success("Message sent successfully!");
    // Reset form input fields
    contact.value = {
      name: "",
      email: "",
      phone_number: "",
      message: "",
    };
  } catch (error) {
    console.error("Error sending message:", error);
    if (error.response) {
      console.log("Response data:", error.response.data);
      console.log("Response status:", error.response.status);
      console.log("Response headers:", error.response.headers);
    }

    toast.error("Failed to send message.");
  }
};
</script>
